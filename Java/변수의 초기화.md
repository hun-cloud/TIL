# 변수의 초기화
변수를 선언하고 처음으로 값을 지정하는 것을 '변수의 초기화'라고 한다.   
가능하면 선언과 동시에 적절한 값으로 초기화 하는 것이 바람직하다.   
멤버변수는 초기화를 하지 않아도 자동적으로 변수의 자료형에 맞는 기본값으로 초기화가 이루어진다.   
지역변수는 사용하기 전에 반드시 초기화를 해야한다.

## 명시적 초기화
변수를 선언과 동시에 초기화하는 것이다. 간단한 초기화 방법이므로 여러 초기화 방법 중에서   
가장 우선적으로 고려되어야 한다.
```java
class Car {
    int door = 4;  // 기본형 변수의 초기화
    Engine e = new Engine(); // 참조형 변수의 초기화
}
```
명시적 초기화가 간단하고 명료하긴 하지만, 보다 복잡한 초기화 작업이 필요할 때 '초기화 블럭' 또는 생성자를 사용해야 한다.
## 초기화 블럭
- 클래스 초기화 블럭 : 클래스변수의 복잡한 초기화에 사용된다.
- 인스턴스 초기화 블럭 : 인스턴스 변수의 복잡한 초기화에 사용된다.
- 클래스 초기화 블럭 : static {}
- 인스턴스 초기화 블럭 : {}
```
클래스 초기화 블럭은 클래스가 메모리에 처음 로딩될 때 한번만 수행된다.   
인스턴스 초기화 블럭은 생성자와 같이 인스턴스를 생성할 때 마다 수행한다.   
그리고 생성자 보다 먼저 인스턴스 초기화 블럭이 먼저 수행된다.
```
* 클래스가 처음 로딩될 때 클래스변수들이 자동적으로 메모리에 만들어지고, 곧바로 클래스 초기화블럭이 클래스변수들을 초기화하게 된다.

## 멤버변수의 초기화 시기와 순서
- 클래스변수의 초기화시점 : 클래스가 로딩될 때 단 한번 초기화 된다.
- 인스턴스변수의 초기화시점 : 인스턴스가 생성될 때마다 인스턴스별로 초기화가 이루어진다.
- 클래스변수의 초기화 순서 : 기본값 -> 명시적초기화 -> 클래스 초기화 블럭
- 인스턴스변수의 초기화 순서 : 기본값 -> 명시적초기화 -> 인스턴스 초기화 블럭 -> 생성자

```
클래스의 로딩 시기는 JVM의 종류에 따라 다를 수 있다. 클래스가 필요할 때 바로 메로리에 로딩하도록 설계가 되어 있는 경우도 있고,
실행효율을 높이기 위해서 사용될 클래스들을 프로그램이 시작될 때 미리 로딩하도록 되어있는 것도 있다.
```
```java
public class InitTest {
    static int cv = 1;
    int iv = 1;

    static {
        cv = 2;
    }

    {
        iv = 2;
    }
    InitTest () {
        iv = 3;
    }
}
```
1. cv가 메모리(method area)에 생성되고, cv에는 int형의 기본값인 0이 cv에 저장된다.
2. 그 다음에는 명시적 초기화 (int cv = 1)에 의해서 cv에 1이 저장된다.
3. 마지막으로 클래스 초기화 블럭(cv = 2)이 수행되어 cv에는 2가 저장된다.
4. InitTest클래스의 인스턴스가 생성되면서 iv가 메모리(heap)에 존재하게 된다.   
   iv 역시 int형 변수이므로 기본값 0이 된다.
5. 명시적 초기화에 의해 iv에 1이 저장되고
6. 인스턴스 초기화 블럭이 수행되어 iv에 2가 저장된다.
7. 마지막으로 생성자가 수행되어 iv에는 3이 저장된다.



참고   
[자바의 정석 남궁성]
